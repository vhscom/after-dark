{{ $permitted_attrs := .permitted_attrs }}
{{ $boolean_attrs := .boolean_attrs }}
{{ $validations := .validations }}
{{ range $name, $value := .attrs }}
  {{ if and (ne $value nil) (in $permitted_attrs $name) }}
    {{ if ne "class" $name }}
      {{ if in $boolean_attrs $name }}
        {{ if eq $value "true" }}{{ $name }}{{ end }}
      {{ else if index $validations $name }}
        {{ if in (index $validations $name) $value }}
          {{ $name }}="{{ $value }}"
        {{ end }}
      {{ else }}
        {{ if eq $name "id" }}
          {{ $name }}="{{ $value | urlize }}"
        {{ else }}
          {{ $name }}="{{ $value }}"
        {{ end }}
      {{ end }}
    {{ end }}
  {{ end }}
{{ end }}
class="form-control{{ with .attrs.class }} {{ . }}{{ end }}"
