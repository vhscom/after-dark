{{ $permitted_attrs := (slice "id" "name" "class" "autocomplete" "autofocus" "cols" "disabled" "form" "maxlength" "minlength" "name" "placeholder" "readonly" "required" "rows" "spellcheck" "wrap" "tabindex") }}
{{ $boolean_attrs := (slice "autofocus" "disabled" "readonly" "required") }}
{{ $validated_attrs := (slice "spellcheck" "autocomplete" "wrap") }}
{{ $validations := (dict "spellcheck" (slice "true" "default" "false") "autocomplete" (slice "on" "off") "wrap" (slice "hard" "soft" "off")) }}
<textarea
  {{ range $name, $value := .attrs }}
    {{ if and (ne $value nil) (in $permitted_attrs $name) }}
      {{ if ne "class" $name }}
        {{ if in $boolean_attrs $name }}
          {{ if eq $value "true" }}{{ $name }}{{ end }}
        {{ else if index $validations $name }}
          {{ if in (index $validations $name) $value }}
            {{ $name | safeHTMLAttr }}="{{ $value }}"
          {{ end }}
        {{ else }}
          {{ $name | safeHTMLAttr }}="{{ $value }}"
        {{ end }}
      {{ end }}
    {{ end }}
  {{ end }}
  class="form-control{{ with .attrs.class }} {{ . }}{{ end }}"
>{{ with .body }}{{ . }}{{ end }}</textarea>
