{{ define "title" -}}
  {{ .Title }} | {{ .Site.Title }}
{{- end }}
{{ define "header" }}
  {{ partial "menu" . }}
{{ end }}
{{ define "main" }}
  <article itemscope itemtype="http://schema.org/BlogPosting">
    {{ template "_internal/schema.html" . }}
    <header>
      <h1 itemprop="headline">{{ .Title }}</h1>
      <p class="muted">{{ partial "post/meta" . }}</p>
    </header>
    {{ if .Description }}
      <blockquote itemprop="description">{{ .Description }}</blockquote>
    {{ end }}
    {{ if and (isset .Params "toc") .Params.toc  }}
      <details>
        <summary>Table of Contents</summary>
        {{ .TableOfContents }}
      </details>
    {{ end }}
    <div itemprop="articleBody">
      {{ .Content }}
    </div>
    <article>
      {{ template "_internal/disqus.html" . }}
    </article>
    <footer>
      <hr>
      {{ partial "post/byline" . }}
      {{ partial "post/related-posts" . }}
    </footer>
  </article>
{{ end }}
{{ define "footer" }}
  {{ partial "powered-by" . }}
{{ end }}
